(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(11),r=n.n(i),s=(n(17),n(5)),l=n(2),d=n(3),o=n(25),j=n(9),u="SET_DND_STATUS",b=function(e){return{type:u,payload:e}},O={isDnD:!1},p=function(e,t){switch(t.type){case u:return Object(l.a)(Object(l.a)({},e),{},{isDnD:t.payload});default:return e}},f=n(1),h=Object(a.createContext)({state:O,dispatch:null});h.displayName="DnD";var v=function(){return c.a.useContext(h)},m=function(e){var t=e.children,n=c.a.useReducer(p,O),a=Object(d.a)(n,2),i=a[0],r=a[1];return Object(f.jsx)(h.Provider,{value:[i,r],children:t})};var x;n(19);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function y(e,t){var n=e.title,c=e.titleId,i=k(e,["title","titleId"]);return a.createElement("svg",g({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},i),n?a.createElement("title",{id:c},n):null,x||(x=a.createElement("g",null,a.createElement("path",{d:"M256,33C132.3,33,32,133.3,32,257c0,123.7,100.3,224,224,224c123.7,0,224-100.3,224-224C480,133.3,379.7,33,256,33z    M364.3,332.5c1.5,1.5,2.3,3.5,2.3,5.6c0,2.1-0.8,4.2-2.3,5.6l-21.6,21.7c-1.6,1.6-3.6,2.3-5.6,2.3c-2,0-4.1-0.8-5.6-2.3L256,289.8   l-75.4,75.7c-1.5,1.6-3.6,2.3-5.6,2.3c-2,0-4.1-0.8-5.6-2.3l-21.6-21.7c-1.5-1.5-2.3-3.5-2.3-5.6c0-2.1,0.8-4.2,2.3-5.6l75.7-76   l-75.9-75c-3.1-3.1-3.1-8.2,0-11.3l21.6-21.7c1.5-1.5,3.5-2.3,5.6-2.3c2.1,0,4.1,0.8,5.6,2.3l75.7,74.7l75.7-74.7   c1.5-1.5,3.5-2.3,5.6-2.3c2.1,0,4.1,0.8,5.6,2.3l21.6,21.7c3.1,3.1,3.1,8.2,0,11.3l-75.9,75L364.3,332.5z"}))))}var w,T=a.forwardRef(y),N=(n.p,function(e){var t=e.item,n=e.listId,c=e.removeTask,i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).dragKey,t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(null!==e&&void 0!==e?e:Object(o.a)()),s=Object(d.a)(r,1)[0],l=v(),j=Object(d.a)(l,2),u=(j[0],j[1]);return{onDragStart:function(e){var t,n=e.target;i(null!==(t=n.className)&&void 0!==t?t:""),n.className+=" drag--border",setTimeout((function(){return n.className+=" drag--invisible"})),e.dataTransfer.setData("dragId",s),u(b(!0))},onDragEnd:function(e){e.target.className=c,i(""),u(b(!1))},draggable:!0,"data-drag-id":s}}();return Object(f.jsxs)("div",Object(l.a)(Object(l.a)({id:t.id,className:"task"},i),{},{children:[Object(f.jsxs)("div",{className:"task__heading",children:[Object(f.jsx)("div",{children:t.name}),Object(f.jsx)(T,{height:24,width:24,onClick:function(){return c({listId:n,taskId:t.id})}})]}),Object(f.jsx)("div",{className:"task__description",children:t.description})]}))});n(20);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function I(e,t){var n=e.title,c=e.titleId,i=_(e,["title","titleId"]);return a.createElement("svg",S({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},i),n?a.createElement("title",{id:c},n):null,w||(w=a.createElement("g",null,a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M256,48C141.1,48,48,141.1,48,256s93.1,208,208,208c114.9,0,208-93.1,208-208S370.9,48,256,48z M256,446.7     c-105.1,0-190.7-85.5-190.7-190.7S150.9,65.3,256,65.3S446.7,150.9,446.7,256S361.1,446.7,256,446.7z"}))),a.createElement("g",null,a.createElement("polygon",{points:"264.1,128 247.3,128 247.3,247.9 128,247.9 128,264.7 247.3,264.7 247.3,384 264.1,384 264.1,264.7 384,264.7     384,247.9 264.1,247.9   "})))))}var D=a.forwardRef(I),L=(n.p,"SET_ADD_TASK_MODAL_STATUS"),E=function(e){return{type:L,payload:e}},A="SET_ADD_LIST_MODAL_STATUS",M=function(e){return{type:A,payload:e}},C={isAddTaskModalOpen:!1,isAddListModalOpen:!1,selectedListId:""},P=function(e,t){switch(t.type){case L:return Object(l.a)(Object(l.a)({},e),{},{isAddTaskModalOpen:t.payload.status,selectedListId:t.payload.listId});case A:return Object(l.a)(Object(l.a)({},e),{},{isAddListModalOpen:t.payload});default:return e}},B=Object(a.createContext)({state:C,dispatch:null});B.displayName="Store";var q=function(){return c.a.useContext(B)},F=function(e){var t=e.children,n=c.a.useReducer(P,C),a=Object(d.a)(n,2),i=a[0],r=a[1];return Object(f.jsx)(B.Provider,{value:[i,r],children:t})},z=function(e){var t,n=e.item,c=e.callback,i=e.removeList,r=e.removeTask,s=function(e){var t=e.dropKey,n=e.callback,c=e.computeDroppable,i=Object(a.useState)(""),r=Object(d.a)(i,2),s=r[0],l=r[1],j=Object(a.useState)(null!==t&&void 0!==t?t:Object(o.a)()),u=Object(d.a)(j,1)[0];return{onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){var t=c(e);t&&(l(t.className),t.className+=" drop--hovered")},onDragLeave:function(e){var t=c(e);t&&(t.className=s)},onDrop:function(e){console.log(e);var t=c(e);if(t){t.className=s;var a=e.dataTransfer.getData("dragId");null===n||void 0===n||n({container:t,dragId:a,dropId:u})}},"data-drop-id":u}}({callback:c,computeDroppable:function(e){return e.target.parentElement.dataset.dropId?e.target.parentElement:null}}),j=q(),u=Object(d.a)(j,2),b=(u[0],u[1]),O=v(),p=Object(d.a)(O,1)[0];return Object(f.jsxs)("div",Object(l.a)(Object(l.a)({id:n.id,className:"list"},s),{},{children:[Object(f.jsxs)("div",{className:"list__heading",children:[Object(f.jsx)("div",{children:n.name}),Object(f.jsx)(T,{height:24,width:24,onClick:function(){return i({listId:n.id})}})]}),Object(f.jsx)("div",{className:"list__tasks",children:null===(t=Object.values(n.tasks))||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(N,{item:e,listId:n.id,removeTask:r},e.id)}))}),Object(f.jsx)("div",{className:"list__add_task",children:Object(f.jsx)(D,{width:50,height:50,onClick:function(){return b(E({status:!0,listId:n.id}))}})}),p.isDnD?Object(f.jsx)("div",{className:"list__dnd_mask"}):null]}))},R=(n(21),n(8)),K=(n(23),function(e){var t=e.children,n=e.title,a=e.isOpen,c=e.setIsOpen;return a?Object(f.jsx)("div",{className:"modal",children:Object(f.jsxs)("div",{className:"modal__content",children:[Object(f.jsxs)("div",{className:"modal__heading",children:[Object(f.jsx)("div",{children:n}),Object(f.jsx)(T,{width:24,height:24,onClick:function(){return c(!1)}})]}),Object(f.jsx)("div",{className:"modal__children",children:t})]})}):null}),U=function(e){var t=e.addNewList,n=q(),c=Object(d.a)(n,2),i=c[0],r=c[1],s=Object(R.a)(),o=s.register,j=s.handleSubmit,u=s.formState.errors,b=s.reset;return Object(a.useEffect)((function(){i.isAddListModalOpen&&b()}),[i.isAddListModalOpen,b]),Object(f.jsx)(K,{title:"Add List",isOpen:i.isAddListModalOpen,setIsOpen:function(e){return r(M(e))},children:Object(f.jsxs)("form",{onSubmit:j((function(e){console.log(e),t({name:e.name}),r(M(!1))})),children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"addListName",children:"List Name: "}),Object(f.jsx)("input",Object(l.a)({id:"addListName",placeholder:"Pending Tasks"},o("name",{required:!0})))]}),Object(f.jsx)("div",{children:u.name&&Object(f.jsx)("span",{children:"This field is required"})})]}),Object(f.jsx)("input",{type:"submit",value:"Add New List"})]})})},J=function(e){var t=e.addNewTask,n=q(),c=Object(d.a)(n,2),i=c[0],r=c[1],s=Object(R.a)(),o=s.register,j=s.handleSubmit,u=s.formState.errors,b=s.reset;return Object(a.useEffect)((function(){i.isAddTaskModalOpen&&b()}),[i.isAddTaskModalOpen,b]),Object(f.jsx)(K,{title:"Add Task",isOpen:i.isAddTaskModalOpen,setIsOpen:function(e){return r(E(e))},children:Object(f.jsxs)("form",{onSubmit:j((function(e){var n=e.name,a=e.description;t({name:n,description:a,listId:i.selectedListId}),r(E(!0))})),children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"addTaskName",children:"Task Name: "}),Object(f.jsx)("input",Object(l.a)({id:"addTaskName",placeholder:"Buy Milk"},o("name",{required:!0})))]}),Object(f.jsx)("div",{children:u.name&&Object(f.jsx)("span",{children:"This field is required"})})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"addTaskDescription",children:"Task Description: "}),Object(f.jsx)("textarea",Object(l.a)({id:"addTaskDescription",placeholder:"Buy Milk Tomorrow Morning"},o("description",{required:!0})))]}),Object(f.jsx)("div",{children:u.description&&Object(f.jsx)("span",{children:"This field is required"})})]}),Object(f.jsx)("input",{type:"submit",value:"Add New Task"})]})})},V=function(){var e,t=function(e){var t=e.key,n=e.initialValue,c=Object(a.useState)(),i=Object(d.a)(c,2),r=i[0],s=i[1];return Object(a.useEffect)((function(){Object(j.a)(t).then((function(e){s(e||n)})).catch((function(){return Object(j.b)(t,n).then((function(){return s(n)}))}))}),[n,t]),[r,function(e){Object(j.b)(t,e).then((function(){return s(e)}))}]}({key:"listCollection",initialValue:{}}),n=Object(d.a)(t,2),c=n[0],i=n[1],r=function(e){var t=e.container,n=e.dragId,a=(e.dropId,document.querySelector('.task[data-drag-id="'.concat(n,'"]')));if(a){var r="";for(var d in c){var o=c[d];if(o.tasks[a.id]){r=o.id;break}}console.log({initialListId:r});var j=Object(l.a)(Object(l.a)({},c),{},Object(s.a)({},r,Object(l.a)(Object(l.a)({},c[r]),{},{tasks:Object(l.a)({},c[r].tasks)}))),u=j[r].tasks[a.id];delete j[r].tasks[a.id],j=Object(l.a)(Object(l.a)({},j),{},Object(s.a)({},t.id,Object(l.a)(Object(l.a)({},j[t.id]),{},{tasks:Object(l.a)(Object(s.a)({},u.id,u),j[t.id].tasks)}))),i(j)}},u=function(e){var t=e.listId,n=Object(l.a)({},c);delete n[t],i(n)},b=function(e){var t=e.listId,n=e.taskId,a=Object(l.a)(Object(l.a)({},c),{},Object(s.a)({},t,Object(l.a)(Object(l.a)({},c[t]),{},{tasks:Object(l.a)({},c[t].tasks)})));delete a[t].tasks[n],i(a)},O=q(),p=Object(d.a)(O,2),h=(p[0],p[1]);return Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)("div",{className:"app__heading",children:"Trello Board"}),Object(f.jsx)("div",{className:"app__subheading",children:Object(f.jsx)("button",{onClick:function(){return h(M(!0))},children:"Add List"})}),Object(f.jsx)("div",{className:"list-collection",children:null===(e=Object.values(c||{}))||void 0===e?void 0:e.map((function(e){return Object(f.jsx)(z,{item:e,callback:r,removeList:u,removeTask:b},e.id)}))}),Object(f.jsx)(U,{addNewList:function(e){var t=function(e){return{id:Object(o.a)(),name:e,tasks:{}}}(e.name);i(Object(l.a)(Object(l.a)({},c),{},Object(s.a)({},t.id,t)))}}),Object(f.jsx)(J,{addNewTask:function(e){var t=e.listId,n=function(e,t){return{id:Object(o.a)(),name:e,description:t}}(e.name,e.description);i(Object(l.a)(Object(l.a)({},c),{},Object(s.a)({},t,Object(l.a)(Object(l.a)({},c[t]),{},{tasks:Object(l.a)(Object(l.a)({},c[t].tasks),{},Object(s.a)({},n.id,n))}))))}})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(F,{children:Object(f.jsx)(m,{children:Object(f.jsx)(V,{})})})}),document.getElementById("root")),X()}},[[24,1,2]]]);
//# sourceMappingURL=main.d1217e62.chunk.js.map